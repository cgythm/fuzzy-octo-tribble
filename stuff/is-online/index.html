<!doctype html>
<html lang="en-US" manifest="index.appcache">

<head>
    <meta charset="UTF-8">
    <title>are we online or off?</title>
    <link rel="stylesheet" type="text/css" href="on-off.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="amicached.js"></script>
    <script src="/shared/jquery-1.11.2.min.js"></script>
    <script src="/shared/offline.js"></script>
    <script src="/shared/marked.min.js"></script>
    <script type="text/javascript" src="onoff.js"></script>
    <script src="/shared/md-helper.js"></script>
</head>

<body class="Arimo">
    <nav class="nav">
        <div class="left">
            <div>
                <a href="#back" id="lback" class="inactive">back</a>
            </div>
        </div>
        <div class="mid">
            <div>
                <a href="#onoff" id="lonoff" class="inactive">online/offline</a>
            </div>
        </div>
        <div class="right">
            <div>
                <a id="labout" href="#about" class="inactive">about</a>
            </div>
        </div>
    </nav>
    <article>
        <section class="onoff">
            <div class="onoff-main">
                <div class="network-status">
                    <p>
                        network status: <span class="online">online</span><span class="offline">offline</span>
                    </p>
                </div>

                <div class="cache-status">
                    cache status: <span class="from-cache">serving from cache</span> <span class="from-server">serving from network</span>
                </div>
            </div>
        </section>
        <section class="about markdown" data-markdown="./readme.md">            
        </section>
    </article>

    <script type="text/javascript">
        function on_online() {
            WebFontConfig = {
                google: {
                    families: ['Noto+Sans::latin', 'Cabin::latin', 'Arimo::latin']
                }
            };
            (function () {
                var wf = document.createElement('script');
                wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
                    '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
                wf.type = 'text/javascript';
                wf.async = 'true';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(wf, s);
            })();
        }
        if (window.oxline) {
            oxline.listen('online', function () {
                on_online();
            });

            oxline.listen('offline', function () {

            });

            oxline.listen('cached', function () {

            });
        } else {
            on_online();
        }
    </script>
</body>

</html>
